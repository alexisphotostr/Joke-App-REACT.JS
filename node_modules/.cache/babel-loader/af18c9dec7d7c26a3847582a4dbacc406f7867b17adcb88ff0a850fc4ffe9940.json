{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[blague,setBlague]=useState('');const[error,setError]=useState('');const[userChoice,setUserChoice]=useState('Any');// Par défaut sur 'Programming'\nconst handleClick=value=>{setUserChoice(value);};const fetchBlague=async()=>{try{const response=await fetch(`https://v2.jokeapi.dev/joke/${userChoice}?type=single&amount=1`);const data=await response.json();if(data.type==='single'){setBlague(data.joke);}else{setBlague('Aucune blague trouvée');}}catch(error){setError('Erreur lors de la récupération de la blague');}};useEffect(()=>{fetchBlague();},[userChoice]);// Re-fetch la blague à chaque changement de `userChoice`\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Joke App\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"What kind of joke would you like to hear?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick('Programming'),children:\"Programming\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick('Dark'),children:\"Dark\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick('Any'),children:\"Anything\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"chose\",children:[\"you chose: \",userChoice]}),/*#__PURE__*/_jsx(\"br\",{}),error?/*#__PURE__*/_jsx(\"p\",{children:error}):/*#__PURE__*/_jsx(\"p\",{children:blague}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchBlague,children:\"Again !\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","blague","setBlague","error","setError","userChoice","setUserChoice","handleClick","value","fetchBlague","response","fetch","data","json","type","joke","children","className","onClick"],"sources":["/home/str/Desktop/code/web/react/js/joke-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [blague, setBlague] = useState('');\n  const [error, setError] = useState('');\n  const [userChoice, setUserChoice] = useState('Any'); // Par défaut sur 'Programming'\n\n  const handleClick = (value) => {\n    setUserChoice(value);\n  };\n\n  const fetchBlague = async () => {\n    try {\n      const response = await fetch(`https://v2.jokeapi.dev/joke/${userChoice}?type=single&amount=1`);\n      const data = await response.json();\n\n      if (data.type === 'single') {\n        setBlague(data.joke);\n      } else {\n        setBlague('Aucune blague trouvée');\n      }\n    } catch (error) {\n      setError('Erreur lors de la récupération de la blague');\n    }\n  };\n\n  useEffect(() => {\n    fetchBlague();\n  }, [userChoice]); // Re-fetch la blague à chaque changement de `userChoice`\n\n  return (\n    <div>\n      <h1>Joke App</h1>\n      <div className='mainContainer'>\n        <h2>What kind of joke would you like to hear?</h2>\n        \n          <button onClick={() => handleClick('Programming')}>Programming</button>\n          <button onClick={() => handleClick('Dark')}>Dark</button>\n          <button onClick={() => handleClick('Any')}>Anything</button>\n          <p className='chose'>you chose: {userChoice}</p>\n          <br></br>\n      \n        {error ? <p>{error}</p> : <p>{blague}</p>}\n        <button onClick={fetchBlague}>\n          Again !\n        </button>\n      </div>\n      \n    </div>\n  );\n  \n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAAE;AAErD,KAAM,CAAAa,WAAW,CAAIC,KAAK,EAAK,CAC7BF,aAAa,CAACE,KAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,+BAA+BN,UAAU,uBAAuB,CAAC,CAC9F,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAElC,GAAID,IAAI,CAACE,IAAI,GAAK,QAAQ,CAAE,CAC1BZ,SAAS,CAACU,IAAI,CAACG,IAAI,CAAC,CACtB,CAAC,IAAM,CACLb,SAAS,CAAC,uBAAuB,CAAC,CACpC,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,QAAQ,CAAC,6CAA6C,CAAC,CACzD,CACF,CAAC,CAEDT,SAAS,CAAC,IAAM,CACdc,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAAE;AAElB,mBACEN,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBjB,KAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BnB,IAAA,OAAAmB,QAAA,CAAI,2CAAyC,CAAI,CAAC,cAEhDnB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAMX,WAAW,CAAC,aAAa,CAAE,CAAAS,QAAA,CAAC,aAAW,CAAQ,CAAC,cACvEnB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAMX,WAAW,CAAC,MAAM,CAAE,CAAAS,QAAA,CAAC,MAAI,CAAQ,CAAC,cACzDnB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAMX,WAAW,CAAC,KAAK,CAAE,CAAAS,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC5DjB,KAAA,MAAGkB,SAAS,CAAC,OAAO,CAAAD,QAAA,EAAC,aAAW,CAACX,UAAU,EAAI,CAAC,cAChDR,IAAA,QAAQ,CAAC,CAEVM,KAAK,cAAGN,IAAA,MAAAmB,QAAA,CAAIb,KAAK,CAAI,CAAC,cAAGN,IAAA,MAAAmB,QAAA,CAAIf,MAAM,CAAI,CAAC,cACzCJ,IAAA,WAAQqB,OAAO,CAAET,WAAY,CAAAO,QAAA,CAAC,SAE9B,CAAQ,CAAC,EACN,CAAC,EAEH,CAAC,CAGV,CAEA,cAAe,CAAAhB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}